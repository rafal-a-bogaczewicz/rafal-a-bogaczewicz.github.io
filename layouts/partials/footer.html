    <footer>
        <p style="text-align: center; margin-top: 50px; font-size: 0.85em; opacity: 0.7;">
            &copy; {{ now.Format "2006" }} {{ .Site.Title }}
        </p>
    </footer>

    <script>
        // --- MOTYW (WYMUSZONY JASNY JAKO DOMYŚLNY) ---
        const themeToggle = document.getElementById("theme-toggle");
        
        // Pobieramy zapisany motyw. Jeśli go nie ma (null), ustawiamy na sztywno "light"
        let currentTheme = localStorage.getItem("theme");

        if (!currentTheme) {
            currentTheme = "light";
        }

        // Aplikujemy motyw do dokumentu
        if (currentTheme === "dark") { 
            document.documentElement.setAttribute("data-theme", "dark"); 
            if (themeToggle) themeToggle.checked = true; 
        } else {
            document.documentElement.setAttribute("data-theme", "light");
            if (themeToggle) themeToggle.checked = false;
        }

        // Obsługa zmiany motywu przez użytkownika
        if (themeToggle) {
            themeToggle.addEventListener("change", () => {
                const newMode = themeToggle.checked ? "dark" : "light";
                document.documentElement.setAttribute("data-theme", newMode);
                localStorage.setItem("theme", newMode);
            });
        }

        // --- JĘZYK ---
        const langToggle = document.getElementById("lang-toggle");
        const translations = {
            {{ range .AllTranslations }}"{{ .Language.Lang }}": "{{ .Permalink }}",{{ end }}
            "{{ .Language.Lang }}": "{{ .Permalink }}"
        };

        if (langToggle) {
            langToggle.addEventListener("change", () => {
                const isChecked = langToggle.checked; // true = PL, false = EN
                const targetLang = isChecked ? "pl" : "en";
                const targetURL = translations[targetLang] || (targetLang === "pl" ? "/" : "/en/");
                window.location.href = targetURL;
            });
        }
    </script>
</body>
</html>
